{{ username }}, Welcome to Uper!

<!DOCTYPE html>
<html>
<head> 
  <meta charset="utf-8"> 
  <title>Uper User main_page</title> 
</head>

<body>
  <form action="{% url 'uper:logout'  %}" method="post">
    {% csrf_token %}
    <input type="submit" value="logout" />
  </form>
  <a href="{% url 'uper:driver_register' %}">driver_register</a> <br/>
  <a href="{% url 'uper:view_info' %}">view_info</a> <br/>
  <a href="{% url 'uper:edit_driver' %}">edit_driver</a> <br/>
  <a href="{% url 'uper:request_ride' %}">request a ride</a><br/>
  <a href="{% url 'uper:share_ride_search' %}">search share ride</a><br/>

<!-- owner & sharer & driver view & edit ride -->
{% for personal_ride_list in personal_ride_lists.values %}
{{ personal_ride_list.identity }}: select an active ride to view & edit
<select name="ride_as_{{ personal_ride_list.identity }}_ride_id_selection" onchange="display_ride_as_{{personal_ride_list.identity}}_content(this.value)">
  <option value="0"> choose a ride </option>
  {% if personal_ride_list.list %}
  {% for personal_ride in personal_ride_list.list %}
  <option value={{personal_ride.id}}> {{personal_ride.ride.destination}} @ {{personal_ride.ride.arrival_datetime}} </option>
  {% endfor %}
  {% endif %}      
</select><br>

{% if personal_ride_list.list %}
{% for personal_ride in personal_ride_list.list %}
  <ul class="ride_as_{{ personal_ride_list.identity }}_content" id="ride_as_{{personal_ride_list.identity}}_{{personal_ride.id}}" style="display:none; ">
    <li >state: {{ personal_ride.ride.state }}</li>
    <li >arrival date and time: {{ personal_ride.ride.arrival_datetime }}</li>
    <li>destination: {{ personal_ride.ride.destination }}</li>
    <li>ride can be shared? {{ personal_ride.ride.can_share }}</li>
    <li> total rider number: {{ personal_ride.ride.total_rider_number}} </li>
    <li>other information: {{ personal_ride.ride.other_info }}</li>
    <li>required vehicle type: {{ personal_ride.ride.required_vehicle_type }}</li>
    <br />
    <li> person number in your party: {{personal_ride.party_person_number}}
    <li> the last time you called/modified this ride: {{personal_ride.called_time}}
    <br />
    {% if personal_ride.ride.driver %}
    <li>driver name: {{personal_ride.ride.driver.drivername}} </li>
    <li>vehicle type: {{personal_ride.driver.vehicle_type}} </li>      
    <li>license number: {{personal_ride.driver.license_number}} </li>
    {% endif %}
  </ul>
{% endfor %}
{% endif %}
<br/>
{% endfor %}

<!-- Below is JS section for this html document -->
<script type="text/javascript">
  <!-- display owner rides information -->
  {% for personal_ride_list in personal_ride_lists %}
  {% with identity=personal_ride_list.identity%}
  function display_ride_as_{{identity}}_content(id_selection){
    var content_list = document.getElementsByClassName("ride_as_{{identity}}_content");
    for(var i=0; i<content_list.length; i++) { 
      content = content_list[i];					 
      if (content.id == ("ride_as_{{identity}}"+id_selection)) {
        content.style.display = "block";
      } else {
        content.style.display = "none";
      }
    }
  }
  {% endwith %}
  {% endfor %}                            
  
  <!-- <\!-- display sharer rides information -\-> -->
  <!-- function display_ride_as_sharer_content(id_selection){ -->
  <!--   var content_list = document.getElementsByClassName("ride_as_sharer_content"); -->
  <!--   for(var i=0; i < content_list.length; i++) {  -->
  <!--     content = content_list[i];					  -->
  <!--     if (target.id == ("rs_"+id_selection)) { -->
  <!--       content.style.display = "block"; -->
  <!--     } else { -->
  <!--       content.style.display = "none"; -->
  <!--     } -->
  <!--   } -->
  <!-- } -->
					
  <!-- <\!-- display driver rides information -\-> -->
  <!-- function display_ride_as_driver_content(id_selection){ -->
  <!--   var content_list = document.getElementsByClassName("ride_as_driver_content"); -->
  <!--   for(var i=0; i<content_list.length; i++) {  -->
  <!--     content = content_list[i];					  -->
  <!--     if (target.id == ("rd_"+id_selection)) { -->
  <!--       content.style.display = "block"; -->
  <!--     } else { -->
  <!--       content.style.display = "none"; -->
  <!--     } -->
  <!--   } -->
  <!-- } -->
</script>

</body>
</html>

